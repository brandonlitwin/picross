<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Picross Game Maker</title>
	<meta name="description" content="An interactive Picross maker.">
	<link href="https://fonts.googleapis.com/css?family=Encode+Sans+Expanded:500" rel="stylesheet">
	<link rel="stylesheet" href="picross.css">
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
</head>

<body>
	<div id="content-container">
		<div id="header">
			<h1>Welcome to the Picross Game!</h1>
			<p>Choose a puzzle to play. Or <a href="index.html">go back to make your own.</a></p>
		</div>

		<div class="dropdown">
			<button onclick="showPuzzleMenu()" class="dropbtn">Select Puzzle Category</button>
			<div id="puzzleDropdown" class="dropdown-content">
				<button onclick="createPuzzle(10)" class="puzzleoption">10 x 10</button>
				<button onclick="createPuzzle(15)" class="puzzleoption">15 x 15</button>
				<button onclick="createPuzzle(20)" class="puzzleoption">20 x 20</button>
			</div>


		</div>
		<br><br>
		<div id="puzzle-container">
			<!--p id="choice">Puzzle goes here</p-->
		</div>
	</div>
	<div id="footer">

		<img src="logo.jpg" style="width:150px;height=150px;border: #000000 3px solid;">
		<p>This project was inspired by my obsession with Picross S on Nintendo Switch &copy; 2017 Nintendo</p>
		<p>Page Created by Brandon Litwin &copy; 2018</p>

	</div>
	<script>
		/* When the user clicks on the button, toggle between hiding and showing the dropdown content */
		function showPuzzleMenu() {
			document.getElementById("puzzleDropdown").classList.toggle("show");
		};

		function createPuzzle(s) {

			// Loop that builds a grid in the container
			for (var rows = 0; rows < s; rows++) {
				for (var columns = 0; columns < s; columns++) {
					$("#puzzle-container").append("<div class='grid'></div>");
				};
			};
			$(".grid").width(450 / s);
			$(".grid").height(450 / s);

		};
		// function that clears the grid
		/*function clearGrid() {
			$(".grid").remove();
		};

		// function that prompts the user to select the number of boxes in a new grid
		// the function then also creates that new grid
		function refreshGrid() {
			var z = prompt("How many boxes per side?");
			clearGrid();
			createGrid(z);
		};

		// create a 16x16 grid when the page loads
		// creates a hover effect that changes the color of a square to black when the mouse passes over it, leaving a (pixel) trail through the grid
		// allows the click of a button to prompt the user to create a new grid*/
		//$(document).ready(function() {
		//createGrid(16);

		$(".grid").mouseover(function() {
			$(this).css("background-color", "black");
		});

		$(".newGrid").click(function() {
			refreshGrid();

			$(".grid").mouseover(function() {
				$(this).css("background-color", "black");
			});
		});
		//});


		/*if (s == 10) {
			document.getElementById('choice').innerHTML = "You selected a 10 x 10 puzzle.";
		}

		if (s == 15) {
			document.getElementById('choice').innerHTML = "You selected a 15 x 15 puzzle.";
		}

		if (s == 20) {
			document.getElementById('choice').innerHTML = "You selected a 20 x 20 puzzle.";
		}*/



		// Close the dropdown menu if the user clicks outside of it
		window.onclick = function(event) {
			if (!event.target.matches('.dropbtn')) {

				var dropdowns = document.getElementsByClassName("dropdown-content");
				var i;
				for (i = 0; i < dropdowns.length; i++) {
					var openDropdown = dropdowns[i];
					if (openDropdown.classList.contains('show')) {
						openDropdown.classList.remove('show');
					}
				}
			}
		}

	</script>
</body>

</html>

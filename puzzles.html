<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Picross Game Maker</title>
	<meta name="description" content="An interactive Picross maker.">
	<link href="https://fonts.googleapis.com/css?family=Encode+Sans+Expanded:500" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="picross.css">
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
	<div id="content-container">
		<div id="header">
			<h1>Welcome to the Picross Game!</h1>
			<p>Choose a puzzle to play. Or <a href="index.html">go back to make your own.</a></p>
		</div>

		<div class="dropdown">
			<button onclick="showPuzzleMenu()" class="dropbtn">Select Puzzle Category</button>
			<div id="puzzleDropdown" class="dropdown-content">
				<button onclick="createPuzzle(10)" class="puzzleoption">10 x 10</button>
				<button onclick="createPuzzle(15)" class="puzzleoption">15 x 15</button>
				<button onclick="createPuzzle(20)" class="puzzleoption">20 x 20</button>
			</div>


		</div>
		<br><br>
		<div id="puzzle-container">
			<!--Puzzle goes here-->
		</div>
	</div>
	<div id="footer">

		<img src="logo.jpg" style="width:150px;height:150px;border: #000000 3px solid;">
		<p>This project was inspired by my obsession with Picross S on Nintendo Switch &copy; 2017 Nintendo</p>
		<p>Page Created by Brandon Litwin &copy; 2018</p>

	</div>
	<script>
		var gridId = "";

		function showPuzzleMenu() {
			document.getElementById("puzzleDropdown").classList.toggle("show");
		};

		function createPuzzle(s) {

			// Loop that builds a grid in the container
			for (var rows = 0; rows < s; rows++) {
				for (var columns = 0; columns < s; columns++) {
					gridId = rows + "," + columns;
					$("#puzzle-container").append("<div id=id class='grid' onclick=squareClicked();></div>");
					$('#id').attr('id', gridId);
					$('#id').attr('clicked', '0');
				};

			};
			$(".grid").width(450 / s);
			$(".grid").height(450 / s);

		};

		function squareClicked() {
			$(function() {
				$(".grid").off().on("click", function() {
					$(this).toggleClass("squareClicked");
				});

			});

		};


		// Close the dropdown menu if the user clicks outside of it
		window.onclick = function(event) {
			if (!event.target.matches('.dropbtn')) {

				var dropdowns = document.getElementsByClassName("dropdown-content");
				var i;
				for (i = 0; i < dropdowns.length; i++) {
					var openDropdown = dropdowns[i];
					if (openDropdown.classList.contains('show')) {
						openDropdown.classList.remove('show');
					}
				}
			}
		}
	</script>
</body>

</html>
